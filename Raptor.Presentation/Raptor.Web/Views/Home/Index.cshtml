@using Raptor.Services.Blog
@model Raptor.Web.Models.HomeViewModel
@inject IBlogService BlogService
@{
    ViewBag.Title = "Homepage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="site-section pt-5">
    <div class="container">
        <div class="row">
            @foreach (var post in Model.MostRecentPosts)
            {
                <div class="col-md-6 col-lg-4">
                    <a href="@Url.Action("BlogPost", "Home", new { link = post.Link })" class="a-block d-flex align-items-center height-md" style="background-image: url('@post.CoverImage'); ">
                        <div class="text">
                            <div class="post-meta">
                                <span class="category">@BlogService.GetBlogPostCategoryById(post.BlogPostId).Name</span>
                                <span class="mr-2">@post.DateCreatedUtc.ToString("MMM dd, yyyy") </span> &bullet;
                                <span class="ml-2"><span class="fa fa-comments"></span> @post.CommentsCount</span>
                            </div>
                            <h3>@post.Title</h3>
                        </div>
                    </a>
                </div>
            }
        </div>
    </div>


</section>



